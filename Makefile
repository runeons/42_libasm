#****************************************************************************#
#*** GENERAL ****************************************************************#
#****************************************************************************#

NAME 		=	libasm_test

CPL 		= 	clang
FLAGS 		= 	-Wall -Wextra -Werror

LIB_DIR		=	-L libasm
LIB			=	-lasm


#****************************************************************************#
#*** SRCS *******************************************************************#
#****************************************************************************#

MAIN		= 	main.c


#****************************************************************************#
#*** RULES ******************************************************************#
#****************************************************************************#

all		: $(NAME)

$(NAME)	: $(MAIN)
	@ make -C libasm/ --no-print-directory
	@ $(CPL) $(FLAGS) $< $(LIB_DIR) $(LIB) -o $@

clean	:
	@ make clean -C libasm/ --no-print-directory
	@ rm -f $(NAME)

fclean	: clean
	@ make fclean -C libasm/ --no-print-directory

re		: fclean all

.PHONY: all clean fclean re
